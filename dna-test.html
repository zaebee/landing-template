<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DNA Visualizer JS Test - Dynamic Loading</title>
    <link
      rel="stylesheet"
      href="templates/components/dna-visualizer/dna-visualizer.css"
    />
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
        background-color: #f0f0f0;
        margin: 0;
      }
      .container {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>DNA Visualizer JS Test - Dynamic Loading</h1>
      <p>
        This page tests the JavaScript function
        <code>renderDnaSequence</code> for dynamically generating the DNA
        sequence visualization.
      </p>

      <div class="dna-sequence-block">
        <h3 class="dna-sequence-title">Dynamic DNA Sequence 1 (ATGCX)</h3>
        <div
          id="dna-container-1"
          class="dna-sequence"
          data-sads-layout-type="flex"
          data-sads-flex-direction="row"
          data-sads-gap="xxs"
        >
          <!-- JS will populate this -->
        </div>
      </div>

      <div class="dna-sequence-block">
        <h3 class="dna-sequence-title">Dynamic DNA Sequence 2 (gattaca)</h3>
        <div
          id="dna-container-2"
          class="dna-sequence"
          data-sads-layout-type="flex"
          data-sads-flex-direction="row"
          data-sads-gap="xxs"
        >
          <!-- JS will populate this -->
        </div>
      </div>

      <div class="dna-sequence-block">
        <h3 class="dna-sequence-title">
          Dynamic DNA Sequence 3 (Empty String)
        </h3>
        <div
          id="dna-container-3"
          class="dna-sequence"
          data-sads-layout-type="flex"
          data-sads-flex-direction="row"
          data-sads-gap="xxs"
        >
          <!-- JS will populate this -->
        </div>
      </div>

      <div class="dna-sequence-block">
        <h3 class="dna-sequence-title">
          Dynamic DNA Sequence 4 (Invalid Input - Number)
        </h3>
        <div
          id="dna-container-4"
          class="dna-sequence"
          data-sads-layout-type="flex"
          data-sads-flex-direction="row"
          data-sads-gap="xxs"
        >
          <!-- JS will populate this -->
        </div>
      </div>
    </div>

    <script src="templates/components/dna-visualizer/dna-visualizer.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const container1 = document.getElementById("dna-container-1");
        const sequence1 = "ATGCX";
        console.log(`Rendering sequence "${sequence1}" into #dna-container-1`);
        renderDnaSequence(container1, sequence1);

        const container2 = document.getElementById("dna-container-2");
        const sequence2 = "gattaca"; // Test lowercase
        console.log(`Rendering sequence "${sequence2}" into #dna-container-2`);
        renderDnaSequence(container2, sequence2);

        const container3 = document.getElementById("dna-container-3");
        const sequence3 = ""; // Test empty string
        console.log(`Rendering sequence "${sequence3}" into #dna-container-3`);
        renderDnaSequence(container3, sequence3);

        const container4 = document.getElementById("dna-container-4");
        const sequence4 = 12345; // Test invalid input
        console.log(`Rendering sequence "${sequence4}" into #dna-container-4`);
        renderDnaSequence(container4, sequence4);
      });
    </script>

    <div class="container">
      <h2>Verification Checklist (JS Dynamic Loading):</h2>
      <ul>
        <li>Open the browser's developer console to see logs.</li>
        <li>
          <strong>Dynamic DNA Sequence 1 (ATGCX):</strong>
          <ul>
            <li>Are 5 nucleotide blocks (A, T, G, C, X) visible?</li>
            <li>
              Do they have the correct colors and text content? (X should be
              'nucleotide-unknown')
            </li>
          </ul>
        </li>
        <li>
          <strong>Dynamic DNA Sequence 2 (gattaca):</strong>
          <ul>
            <li>Are 7 nucleotide blocks (G, A, T, T, A, C, A) visible?</li>
            <li>
              Do they have the correct colors and text content (should be
              case-insensitive)?
            </li>
          </ul>
        </li>
        <li>
          <strong>Dynamic DNA Sequence 3 (Empty String):</strong>
          <ul>
            <li>Is the container empty? (No blocks rendered)</li>
          </ul>
        </li>
        <li>
          <strong>Dynamic DNA Sequence 4 (Invalid Input - Number):</strong>
          <ul>
            <li>
              Does the container show an error message (e.g., "Error: Invalid
              sequence data.")?
            </li>
            <li>Is there an error logged to the console?</li>
          </ul>
        </li>
        <li>
          Are there any other unexpected JavaScript errors in the console?
        </li>
      </ul>
    </div>
  </body>
</html>
